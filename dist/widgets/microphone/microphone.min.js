!function(n){"use strict";function t(){s=n.listener=new n.Listener({interimResults:!0,onResult:function(n,t,o,e){l.publishEvent("result",n,t,o,e)},onStart:function(n){l.publishEvent("start",n)},onEnd:function(n){l.publishEvent("end",n)},onError:function(n){l.publishEvent("error",n)}})}function o(){var n=u.querySelector(".volume-pulser");r=new window.VolumeMonitor({listener:s,onVolumeChange:function(t){var o=t/100*.5+1;n.style.transform="scale("+o+")"},onStop:function(){n.style.transform="scale(0.9)"},onError:function(n){l.publishEvent("error",n)}})}function e(){var n=null,t=1e3,o=u.querySelector(".icon-container");o.addEventListener("mousedown",function(){s.listening?l.stop():n=setTimeout(function(){l.start(!0),n=null},t)}),o.addEventListener("mouseup",function(){null!==n&&(clearTimeout(n),n=null,l.start())}),o.addEventListener("mouseout",function(){clearTimeout(n),n=null})}function i(){l.on("start",function(){u.classList.add("listening"),s.continuous&&u.classList.add("lock")}),l.on("end",function(){u.classList.remove("listening"),u.classList.remove("lock")})}var s,r,u,l=window.MindMeldMicrophone=window.MindMeldMicrophone||{};l.initialize=function(s){if(u=s,!n.support.speechRecognition){u.classList.add("disabled");var r="This browser does not support speech recognition";return void l.publishEvent("error",r)}t(),o(),e(),i(),l.publishEvent("init")},l.start=function(n){s.continuous=n,s.start(),r.start()},l.listening=function(){return s.listening},l.stop=function(){s.stop()};var c={};l.on=function(n,t,o){c[n]||(c[n]=[]);var e={callback:t,context:o};c[n].push(e)},l.publishEvent=function(n){var t=c[n];if(void 0!==t){var o=Array.prototype.slice.call(arguments,1);t.forEach(function(n){var t=n.context||this;n.callback.apply(t,o)})}}}(MM);
//# sourceMappingURL=microphone.js
//# sourceMappingURL=microphone.min.js.map