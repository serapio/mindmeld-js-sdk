!function e(t,o,n){function i(r,c){if(!o[r]){if(!t[r]){var d="function"==typeof require&&require;if(!c&&d)return d(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=o[r]={exports:{}};t[r][0].call(l.exports,function(e){var o=t[r][1][e];return i(o?o:e)},l,l.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t,o){function n(e,t){var o=Math.pow(10,t);return e+=o,e=e.toString(),e.substring(e.length-t)}e("./vendor/contentloaded"),o.el=function(e){return{on:function(t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},click:function(e){this.on("click",e)},keypress:function(e){this.on("keypress",e)},removeClass:function(t){e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)","g"),"$1")},addClass:function(t){e.className=e.className+" "+t},remove:function(){e.parentNode.removeChild(e)},el:function(){return e}}},o.convertToAbsolutePath=function(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host+t.pathname+t.search+t.hash},o.timestamp=function(e){return e=e||new Date,n(e.getFullYear(),4)+"."+n(e.getMonth()+1,2)+"."+n(e.getDate(),2)+" "+n(e.getHours(),2)+":"+n(e.getMinutes(),2)+":"+n(e.getSeconds(),2)+"."+n(e.getMilliseconds(),3)+e.toTimeString().substring(8)},o.log=function(){var e=Array.prototype.slice.call(arguments,0);e.splice(0,0,o.timestamp()),console.log.apply(console,e)},o.contentLoaded=contentLoaded},{"./vendor/contentloaded":2}],2:[function(){window.contentLoaded=function(e,t){var o=!1,n=!0,i=e.document,a=i.documentElement,r=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",d=i.addEventListener?"":"on",l=function(n){("readystatechange"!=n.type||"complete"==i.readyState)&&(("load"==n.type?e:i)[c](d+n.type,l,!1),!o&&(o=!0)&&t.call(e,n.type||n))},s=function(){try{a.doScroll("left")}catch(e){return void setTimeout(s,50)}l("poll")};if("complete"==i.readyState)t.call(e,"lazy");else{if(i.createEventObject&&a.doScroll){try{n=!e.frameElement}catch(f){}n&&s()}i[r](d+"DOMContentLoaded",l,!1),i[r](d+"readystatechange",l,!1),e[r](d+"load",l,!1)}}},{}],3:[function(e){function t(){var e=document.createElement("div");e.setAttribute("id","mindmeld-modal"),document.body.insertBefore(e,document.body.childNodes[0]),c=a.el(e);for(var t=document.getElementsByClassName("mm-voice-nav-init"),n=document.getElementsByClassName("mm-voice-nav-text-init"),i=function(e){if(e.preventDefault(),n.length>0){var t=n[0].value;r.voiceNavigator.showModal({query:t})}else r.voiceNavigator.showModal()},d=0;d<t.length;d++)a.el(t[d]).click(i);for(var l=function(e){if(13===e.which){var t=e.target.value;r.voiceNavigator.showModal({query:t})}},s=0;s<n.length;s++)a.el(n[s]).keypress(l);o(),a.el(window).on("message",function(e){"mindmeld"==e.data.source&&"close"==e.data.action&&c.removeClass("on")})}function o(){l=!0,f.forEach(function(e){e()})}function n(e){s?e():u.push(e)}function i(e,t){var o=document.getElementById("mindmeld-iframe").contentWindow;o.postMessage({action:e,source:"mindmeld",data:t},"*")}var a=e("./util"),r=window.MM=window.MM||{};r.voiceNavigator=r.voiceNavigator||{},r.loader=r.loader||{},r.loader.rootURL=r.loader.rootURL||"https://developer.expectlabs.com/public/sdks/js/";var c=!1,d=!1,l=!1,s=!1,f=[],u=[];r.voiceNavigator.showModal=function(e){if(e=e||{},l){var t;"undefined"!=typeof r&&("undefined"!=typeof r.widgets&&"undefined"!=typeof r.widgets.config&&(r.voiceNavigator.config=r.widgets.config.voice||{},r.voiceNavigator.config.appID=r.widgets.config.appID,"undefined"!=typeof r.widgets.config.cleanUrl&&(r.voiceNavigator.config.cleanUrl=r.widgets.config.cleanUrl),"undefined"!=typeof r.widgets.config.fayeClientUrl&&(r.voiceNavigator.config.fayeClientUrl=r.widgets.config.fayeClientUrl)),"undefined"!=typeof r.voiceNavigator.config&&("undefined"!=typeof r.voiceNavigator.config.cardTemplate&&(r.voiceNavigator.config.cardLayout="custom"),"undefined"==typeof r.voiceNavigator.config.cardLayout&&(r.voiceNavigator.config.cardLayout="default"),"undefined"!=typeof r.voiceNavigator.config.customCSSURL&&(r.voiceNavigator.config.customCSSURL=a.convertToAbsolutePath(r.voiceNavigator.config.customCSSURL)),"undefined"!=typeof e.listeningMode?r.voiceNavigator.config.listeningMode=e.listeningMode:"undefined"==typeof r.voiceNavigator.config.listeningMode&&(r.voiceNavigator.config.listeningMode="normal"),"undefined"!=typeof r.token&&"undefined"!=typeof r.activeUserId&&null!==r.activeUserId&&"undefined"!=typeof r.activeSessionId&&null!==r.activeSessionId&&(r.voiceNavigator.config.mmCredentials={token:r.token,userID:r.activeUserId,sessionID:r.activeSessionId}),r.voiceNavigator.config.startQuery=void 0!==e.query&&""!==e.query?e.query:null)),e.forceNewIFrame&&d&&(t=document.getElementById("mindmeld-iframe"),t.parentNode.removeChild(t)),!d||e.forceNewIFrame?(t=document.createElement("iframe"),t.setAttribute("frameBorder","0"),t.setAttribute("id","mindmeld-iframe"),t.setAttribute("allowtransparency","true"),t.setAttribute("src",r.loader.rootURL+"widgets/voiceNavigator/modal/modal.min.html"),d=a.el(t),a.el(t).on("load",function(){s=!0,i("config",r.voiceNavigator.config),i("open"),u.forEach(function(e){e()})}),c.el().appendChild(t)):i("open",r.voiceNavigator.config),c.addClass("on")}else f.push(function(){r.voiceNavigator.showModal(e)})},r.voiceNavigator.hideModal=function(){i("close")},r.voiceNavigator.setUserLocation=function(e,t){l?n(function(){var o={latitude:e,longitude:t};i("setLocation",o)}):f.push(function(){r.voiceNavigator.setUserLocation(e,t)})},a.contentLoaded(window,function(){t()})},{"./util":1}]},{},[3]);